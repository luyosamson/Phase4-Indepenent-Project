(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{26:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var i=n(2),r=n(19),a=n.n(r),o=n(9),c=(n(26),n(21)),s=n(3),l=n(4),j=n(0);var u=function(){var e={display:"inline-block",width:"15%",padding:"12px",margin:"0 4% 6px",background:"black",color:"white",textAlign:"center"};return Object(j.jsxs)("div",{children:[Object(j.jsx)(o.b,{to:"/",exact:!0,style:e,activeStyle:{background:"#696969"},children:"Home"}),Object(j.jsx)(o.b,{to:"/renovations",exact:!0,style:e,activeStyle:{background:"#696969"},children:"View All Renovations"}),Object(j.jsx)(o.b,{to:"/my_renovations",exact:!0,style:e,activeStyle:{background:"#696969"},children:"View My Renovations"}),Object(j.jsx)(o.b,{to:"/new_renovation",exact:!0,style:e,activeStyle:{background:"#696969"},children:"Create New Renovation"})]})};var b=function(e){var t=e.onLogin,n=e.setErrors,r=Object(i.useState)(""),a=Object(s.a)(r,2),o=a[0],c=a[1],l=Object(i.useState)(""),u=Object(s.a)(l,2),b=u[0],d=u[1],h=Object(i.useState)(""),O=Object(s.a)(h,2),m=O[0],x=O[1],p=Object(i.useState)(""),v=Object(s.a)(p,2),f=v[0],g=v[1],y=Object(i.useState)(""),S=Object(s.a)(y,2),C=S[0],w=S[1],R=Object(i.useState)(""),F=Object(s.a)(R,2),_=F[0],N=F[1];return Object(j.jsxs)("div",{id:"signupform",children:[Object(j.jsx)("h3",{children:"Sign Up"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:o,last_name:b,email:m,username:f,password:C,password_confirmation:_})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return n(e.errors)}))}))},children:[Object(j.jsx)("label",{htmlFor:"first_name",children:"First Name:"}),Object(j.jsx)("input",{type:"text",id:"first_name",value:o,onChange:function(e){return c(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"last_name",children:"Last Name:"}),Object(j.jsx)("input",{type:"text",id:"last_name",value:b,onChange:function(e){return d(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(j.jsx)("input",{type:"text",id:"email",value:m,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(j.jsx)("input",{type:"text",id:"signUpUsername",value:f,onChange:function(e){return g(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(j.jsx)("input",{type:"password",id:"signUpPassword",value:C,onChange:function(e){return w(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"password_confirmation",children:"Confirm Password:"}),Object(j.jsx)("input",{type:"password",id:"signUpPasswordConfirmation",value:_,onChange:function(e){return N(e.target.value)}}),Object(j.jsx)("button",{className:"login",type:"submit",children:"Submit"})]})]})};var d=function(e){var t=e.onLogin,n=e.setErrors,r=Object(i.useState)(""),a=Object(s.a)(r,2),o=a[0],c=a[1],l=Object(i.useState)(""),u=Object(s.a)(l,2),b=u[0],d=u[1],h=Object(i.useState)(""),O=Object(s.a)(h,2),m=O[0],x=O[1];return Object(j.jsxs)("div",{id:"loginform",children:[Object(j.jsx)("h3",{children:"Login"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:b,password_confirmation:m})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return n(e.errors)}))}))},children:[Object(j.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(j.jsx)("input",{type:"text",id:"username",value:o,onChange:function(e){return c(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(j.jsx)("input",{type:"password",id:"password",value:b,onChange:function(e){return d(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"password_confirmation",children:"Confirm Password:"}),Object(j.jsx)("input",{type:"password",id:"passwordConfirmation",value:m,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)("button",{className:"login",type:"submit",children:"Submit"})]})]})};var h=function(e){var t=e.onLogin,n=e.setErrors;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Welcome to Renov8!"}),Object(j.jsx)("h4",{children:"Share and view renovations from around the world!"}),Object(j.jsx)(b,{onLogin:t,setErrors:n}),Object(j.jsx)(d,{onLogin:t,setErrors:n})]})};var O=function(e){var t=e.user;return Object(j.jsxs)("div",{className:"home",children:["Welcome Home ",t.first_name," ",t.last_name,"!"]})};var m=function(e){var t=e.renovation,n=(e.user,e.handleUpdateRenovation),i=t.reviews.map((function(e){return e.title})),r=t.reviews.map((function(e){return e.description})),a=t.reviews.map((function(e){return e.rating}));return Object(j.jsxs)("ul",{className:"card",children:[Object(j.jsxs)("h4",{children:["Title: ",t.title]}),Object(j.jsxs)("h4",{children:["Location: ",t.location]}),Object(j.jsxs)("h4",{children:["Room: ",t.room]}),Object(j.jsxs)("h4",{children:["Cost: Ksh.",t.cost]}),Object(j.jsx)("img",{src:t.before_image,alt:"Not Available"}),Object(j.jsx)("img",{src:t.during_image,alt:"Not Available"}),Object(j.jsx)("img",{src:t.after_image,alt:"Not Available"}),Object(j.jsxs)("h4",{children:["Likes: ",t.likes]}),Object(j.jsx)("button",{onClick:function(){fetch("/renovations/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({likes:t.likes+1})}).then((function(e){return e.json()})).then((function(e){n(e)}))},children:"Favorite Renovation"}),Object(j.jsx)("h4",{children:"Reviews:"}),Object(j.jsxs)("p",{children:["Title: ",i.map((function(e){return Object(j.jsx)("ol",{children:e})}))]}),Object(j.jsxs)("p",{children:["Description: ",r.map((function(e){return Object(j.jsx)("ol",{children:e})}))]}),Object(j.jsxs)("p",{children:["Rating: ",a.map((function(e){return Object(j.jsx)("ol",{children:e})}))]})]})};var x=function(e){var t=e.renovations,n=e.user,i=e.handleUpdateRenovation;return Object(j.jsx)("ul",{className:"cards",children:t.map((function(e){return Object(j.jsx)(m,{renovation:e,handleUpdateRenovation:i,user:n},e.id)}))})};var p=function(e){var t=e.user,n=e.handleNewRenovation,r=Object(i.useState)(""),a=Object(s.a)(r,2),o=a[0],c=a[1],l=Object(i.useState)(""),u=Object(s.a)(l,2),b=u[0],d=u[1],h=Object(i.useState)(""),O=Object(s.a)(h,2),m=O[0],x=O[1],p=Object(i.useState)(""),v=Object(s.a)(p,2),f=v[0],g=v[1],y=Object(i.useState)(""),S=Object(s.a)(y,2),C=S[0],w=S[1],R=Object(i.useState)(""),F=Object(s.a)(R,2),_=F[0],N=F[1],k=Object(i.useState)(""),T=Object(s.a)(k,2),L=T[0],D=T[1],E=Object(i.useState)(""),U=Object(s.a)(E,2),P=U[0],A=U[1];return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/renovations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:o,location:b,room:m,cost:f,before_image:C,during_image:_,after_image:L,description:P,user_id:t.id})}).then((function(e){return e.json()})).then((function(e){return n(e)}))},children:[Object(j.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(j.jsx)("input",{type:"text",id:"title",value:o,onChange:function(e){return c(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"location",children:"Location:"}),Object(j.jsx)("input",{type:"text",id:"location",value:b,onChange:function(e){return d(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"room",children:"Room:"}),Object(j.jsx)("input",{type:"text",id:"room",value:m,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"cost",children:"Cost:"}),Object(j.jsx)("input",{type:"text",id:"cost",value:f,onChange:function(e){return g(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"beforeImage",children:"Before Image:"}),Object(j.jsx)("input",{type:"text",id:"beforeImage",value:C,onChange:function(e){return w(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"duringImage",children:"During Image:"}),Object(j.jsx)("input",{type:"text",id:"duringImage",value:_,onChange:function(e){return N(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"afterImage",children:"After Image:"}),Object(j.jsx)("input",{type:"text",id:"afterImage",value:L,onChange:function(e){return D(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(j.jsx)("input",{type:"text",id:"description",value:P,onChange:function(e){return A(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})};var v=function(e){var t=e.renovation,n=e.handleRenovationDelete,r=e.handleUpdateRenovation,a=t.reviews.map((function(e){return e.title})),o=t.reviews.map((function(e){return e.description})),c=t.reviews.map((function(e){return e.rating})),l=Object(i.useState)(""),u=Object(s.a)(l,2),b=u[0],d=u[1],h=Object(i.useState)(""),O=Object(s.a)(h,2),m=O[0],x=O[1],p=Object(i.useState)(""),v=Object(s.a)(p,2),f=v[0],g=v[1],y=Object(i.useState)(""),S=Object(s.a)(y,2),C=S[0],w=S[1],R=Object(i.useState)(""),F=Object(s.a)(R,2),_=F[0],N=F[1];return Object(j.jsxs)("ul",{className:"card",children:[Object(j.jsxs)("h4",{children:["Title: ",t.title]}),Object(j.jsxs)("h4",{children:["Location: ",t.location]}),Object(j.jsxs)("h4",{children:["Room: ",t.room]}),Object(j.jsxs)("h4",{children:["Cost: Ksh.",t.cost]}),Object(j.jsx)("img",{src:t.before_image,alt:"Not Available"}),Object(j.jsx)("img",{src:t.during_image,alt:"Not Available"}),Object(j.jsx)("img",{src:t.after_image,alt:"Not Available"}),Object(j.jsxs)("h4",{children:["Likes: ",t.likes]}),Object(j.jsx)("button",{onClick:function(){fetch("/renovations/".concat(t.id),{method:"DELETE"}).then((function(e){e.ok&&n(t.id)}))},children:"Remove Renovation"}),Object(j.jsx)("h4",{children:"Reviews:"}),Object(j.jsxs)("p",{children:["Title: ",a.map((function(e){return Object(j.jsx)("ol",{children:e})}))]}),Object(j.jsxs)("p",{children:["Description: ",o.map((function(e){return Object(j.jsx)("ol",{children:e})}))]}),Object(j.jsxs)("p",{children:["Rating: ",c.map((function(e){return Object(j.jsx)("ol",{children:e})}))]}),Object(j.jsxs)("form",{onSubmit:function(){fetch("/renovations/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:b,location:m,room:f,cost:C,description:_})}).then((function(e){return e.json()})).then((function(e){r(e)}))},children:[Object(j.jsx)("label",{htmlFor:"editTitle",children:"Title:"}),Object(j.jsx)("input",{type:"text",id:"editTitle",value:b,onChange:function(e){return d(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"editLocation",children:"Location:"}),Object(j.jsx)("input",{type:"text",id:"editLocation",value:m,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"editRoom",children:"Room:"}),Object(j.jsx)("input",{type:"text",id:"editRoom",value:f,onChange:function(e){return g(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"editCost",children:"Cost:"}),Object(j.jsx)("input",{type:"text",id:"editCost",value:C,onChange:function(e){return w(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"editDescription",children:"Description:"}),Object(j.jsx)("input",{type:"text",id:"editDescription",value:_,onChange:function(e){return N(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})]})};var f=function(e){var t=e.user,n=e.renovations,i=e.handleRenovationDelete,r=e.handleUpdateRenovation,a=n.filter((function(e){return e.user_id===t.id}));return Object(j.jsx)("ul",{className:"cards",children:a.map((function(e){return Object(j.jsx)(v,{renovation:e,handleRenovationDelete:i,handleUpdateRenovation:r},e.id)}))})};var g=function(){var e=Object(i.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)([]),o=Object(s.a)(a,2),b=o[0],d=o[1],m=Object(i.useState)([]),v=Object(s.a)(m,2),g=v[0],y=v[1];function S(e){var t=b.map((function(t){return t.id===e.id?e:t}));d(t)}return Object(i.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return r(e)}))}))}),[]),Object(i.useEffect)((function(){fetch("/renovations").then((function(e){return e.json()})).then((function(e){return d(e)}))}),[]),n?Object(j.jsxs)("div",{children:[Object(j.jsx)(u,{user:n,setUser:r}),Object(j.jsx)("button",{type:"button",onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&r(null)}))},className:"logout",children:"Logout"}),Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/",children:Object(j.jsx)(O,{user:n})}),Object(j.jsx)(l.a,{exact:!0,path:"/renovations",children:Object(j.jsx)(x,{renovations:b,user:n,handleUpdateRenovation:S})}),Object(j.jsx)(l.a,{exact:!0,path:"/new_renovation",children:Object(j.jsx)(p,{user:n,renovations:b,handleNewRenovation:function(e){d([].concat(Object(c.a)(b),[e]))}})}),Object(j.jsx)(l.a,{exact:!0,path:"/my_renovations",children:Object(j.jsx)(f,{user:n,renovations:b,handleRenovationDelete:function(e){var t=b.filter((function(t){return t.id!==e}));d(t)},handleUpdateRenovation:S})})]})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:g}),Object(j.jsx)(h,{onLogin:r,setErrors:y}),";"]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),r(e),a(e),o(e)}))};a.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(g,{})}),document.getElementById("root")),y()}},[[35,1,2]]]);
//# sourceMappingURL=main.424604dc.chunk.js.map